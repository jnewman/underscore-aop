/**
 * @license
 * underscore-aop 0.5.0 https://github.com/jnewman/underscore-aop/blob/master/LICENSE.txt
 * Build time: 2013-07-14A01:07:24
 * Fork of: dojo/aspect.js 1.8.3 http://dojotoolkit.org/license
 */
;!function(a,b){"use strict";var c="function"==typeof define&&define.amd,d="object"==typeof exports&&exports,e="object"==typeof module&&module&&module.exports==d&&module,f=function(){var a;try{a=require("underscore")}catch(c){try{a=require("lodash")}catch(c){a=b._}}if("function"!=typeof a)throw new TypeError("underscoreLike function not found.");return a},g=null;if(c)define(["underscore"],function(){return a(f())});else if(d&&!d.nodeType)g=a(f()),e?(e.exports=g).aop=g:d.aop=g;else{var h=f();h.aop=a(h)}}(function(){"use strict";function a(a,b,c,e){var g,h=a[b],i="around"===b;if(i){var j=c(function(){return h.advice(this,arguments)});g={remove:function(){g.cancelled=!0,delete d[a._uaopId]},advice:function(a,b){return g.cancelled?h.advice(a,b):j.apply(a,b)}}}else g={remove:function(){var c=g.previous,e=g.next;e||c?(c?c.next=e:a[b]=e,e&&(e.previous=c)):(delete a[b],delete d[a._uaopId])},id:f++,advice:c,receiveArguments:e};if(h&&!i)if("after"===b){for(;h.next&&(h=h.next););h.next=g,g.previous=h}else"before"===b&&(a[b]=g,g.next=h,h.previous=g);else a[b]=g;return g}function b(b){return function(c,g,h,i){var j,k=c[g];k&&k.target===c||(c[g]=j=function(){for(var a=arguments,b=j.before;b;)a=b.advice.apply(this,a)||a,b=b.next;var c;j.around&&(c=j.around.advice(this,a));for(var d,e=j.after;e&&e.id<f;)e.receiveArguments?(d=e.advice.apply(this,a),c=void 0===d?c:d):c=e.advice.call(this,c,a),e=e.next;return c},k&&(j.around={advice:function(a,b){return k.apply(a,b)}}),j._uaopId=k._uaopId?k._uaopId:k._uaopId=e++,j._uaopId&&(d[j._uaopId]=j),j.target=c);var l=a(j||k,b,h,i);return h=null,l}}var c=Array.prototype.slice,d={},e=0,f=0,g=[],h=function(a){var f=b("before")(a,"bind",function(a){var b=c.call(arguments,0),f=a._uaopId;f||(f=a._uaopId=e++);var g=b[0]=function(){return(d[f]||a).apply(this,arguments)};return g._uaopId=f,b});return g.push(f),f},i=function(a){return b(a).apply(this,c.call(arguments,1))},j={before:b("before"),around:b("around"),after:b("after"),wrapLib:function(a){return h(a)},_dispatchers:d},k=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};return k(i,j)},this);