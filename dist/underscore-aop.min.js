/**
 * @license
 * underscore-aop 0.2.3 https://github.com/jnewman/underscore-aop/blob/master/LICENSE.txt
 * Build time: 2013-04-16A00:04:22
 * Fork of: dojo/aspect.js 1.8.3 http://dojotoolkit.org/license
 */
;(function(e){"use strict";var r="function"==typeof define&&define.amd,n="object"==typeof exports&&exports,t="object"==typeof module&&module&&module.exports==n&&module,u=function(){var e;try{e=require("underscore")}catch(r){try{e=require("lodash")}catch(r){e=window._}}if("function"!=typeof e)throw new TypeError("underscoreLike function not found.");return e},o=null;if(r)define(function(){return e(u())});else if(n&&!n.nodeType)o=e(u()),t?(t.exports=o).aop=o:n.aop=o;else{var i=u();i.aop=e(i)}})(function(e){"use strict";function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}function t(e,r,n,t){var u,o=e[r],i="around"==r;if(i){var f=n(function(){return o.advice(this,arguments)});u={remove:function(){u.cancelled=!0},advice:function(e,r){return u.cancelled?o.advice(e,r):f.apply(e,r)}}}else u={remove:function(){var n=u.previous,t=u.next;t||n?(n?n.next=t:e[r]=t,t&&(t.previous=n)):delete e[r]},id:a++,advice:n,receiveArguments:t};if(o&&!i)if("after"===r){for(;o.next&&(o=o.next););o.next=u,u.previous=o}else"before"===r&&(e[r]=u,u.next=o,o.previous=u);else e[r]=u;return u}function u(e){return function(r,n,u,o){var i,f=r[n];f&&f.target===r||(r[n]=i=function(){for(var e=arguments,r=i.before;r;)e=r.advice.apply(this,e)||e,r=r.next;var n;i.around&&(n=i.around.advice(this,e));for(var t,u=i.after;u&&a>u.id;)u.receiveArguments?(t=u.advice.apply(this,e),n=void 0===t?n:t):n=u.advice.call(this,n,e),u=u.next;return n},f&&(i.around={advice:function(e,r){return f.apply(e,r)}}),i._uaopGuid=f._uaopGuid,i.target=r);var c=t(i||f,e,u,o);return u=null,c}}function o(e,r){var n,t="";for(t in e)if(n=e[t],r(n,t,e))return n;return null}function i(e,r){var n=f[e._uaopGuid]=o(r,function(r){return!!r&&r._uaopGuid===e._uaopGuid});return n}var a=0,f={};return u("before")(e,"bind",function(r){var t=e.toArray(arguments),u=r._uaopGuid;u||(u=r._uaopGuid=n(),f[u]=r);var o=t[0]=function o(){return(i(r,this)||r).apply(this,arguments)};return o._uaopGuid=u,t}),e.extend(function(e){return u(e).apply(this,arguments)},{before:u("before"),around:u("around"),after:u("after")})});